!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((t=t||self).reactHooksFetch={},t.react)}(this,function(t,e){var r=function(t){var e,r;function n(){var e;return(e=t.apply(this,arguments)||this).state={error:null},e.retry=function(){e.setState({error:null})},e}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.getDerivedStateFromError=function(t){return{error:t}},n.prototype.render=function(){var t=this.state.error,e=this.props,r=e.children,n=e.fallback;return t?"function"==typeof n?n(t,this.retry):n:r},n}(e.Component);"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var n=function(t){return"object"==typeof t&&null!==t};t.ErrorBoundary=r,t.createFetchStore=function(t,e){var r=new Map,o=new WeakMap;e&&e.forEach(function(t){n(t.input)?o.set(t.input,function(){return t.result}):r.set(t.input,function(){return t.result})});var u=function(e){var r=null,n=null,o=null;return r=function(){try{var u=function(t,e){try{var r=t()}catch(t){return e(!0,t)}return r&&r.then?r.then(e.bind(null,!1),e.bind(null,!0)):e(!1,r)}(function(){return function(t,e){try{var r=t()}catch(t){return e(t)}return r&&r.then?r.then(void 0,e):r}(function(){return Promise.resolve(t(e)).then(function(t){n=t})},function(t){o=t})},function(t,e){if(r=null,t)throw e;return e});return Promise.resolve(u&&u.then?u.then(function(){}):void 0)}catch(t){return Promise.reject(t)}}(),function(){if(r)throw r;if(null!==o)throw o;return n}};return{prefetch:function(t){n(t)?o.has(t)||o.set(t,u(t)):r.has(t)||r.set(t,u(t))},evict:function(t){n(t)?o.delete(t):r.delete(t)},getResult:function(t){var e=n(t)?o.get(t):r.get(t);if(!e)throw new Error("call prefetch in advance");return e()}}},t.useFetch=function(t,r){var n=e.useState(function(){if(void 0!==r)return t.getResult(r)}),o=n[1];return[n[0],e.useCallback(function(e){t.prefetch(e),o(function(){return t.getResult(e)})},[t])]}});
//# sourceMappingURL=index.umd.js.map
